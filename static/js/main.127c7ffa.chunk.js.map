{"version":3,"sources":["services/AuthService.js","components/loginBox.js","pages/LoginPage.js","components/contactCard.js","components/mainContent.js","components/menuBar.js","pages/HomePage.js","components/privateRoute.js","App.js","index.js"],"names":["AuthService","login","username","password","localStorage","setItem","Promise","resolve","setTimeout","isSessionActive","getItem","logout","removeItem","LoginBox","useState","setUsername","setPassword","history","useHistory","className","type","placeholder","value","onChange","evt","target","onClick","preventDefault","then","response","push","LoginPage","to","ContactCard","name","image","trim","src","alt","MainContent","counter","useRef","loading","contacts","setContacts","loadMore","setLoadMore","handleScroll","e","windowHeight","window","innerHeight","document","documentElement","offsetHeight","body","html","docHeight","Math","max","scrollHeight","clientHeight","pageYOffset","getNextIdArray","starter","current","idsArray","useEffect","getCharReponse","a","reject","getCharacter","characters","prevState","map","id","fetchData","addEventListener","removeEventListener","contact","i","Spinner","animation","size","MenuBar","HomePage","PrivateRoute","Component","component","rest","isLoggedIn","render","props","pathname","App","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.127c7ffa.chunk.js","sourcesContent":["const AuthService = {\n    login : (username, password)=>{\n        if(username === 'prabodh' && password === 'admin@123'){\n            localStorage.setItem('isValidUser',true);\n            return new Promise(resolve => setTimeout(()=>{\n                resolve(true)\n            }, 1000));\n        }\n        return Promise.resolve(false);\n    },\n\n    isSessionActive : ()=>{\n        return localStorage.getItem('isValidUser');\n    },\n\n    logout : ()=>{\n        localStorage.removeItem('isValidUser');\n    }\n}\n\nexport default AuthService;","import { useState } from \"react\"\nimport { useHistory } from \"react-router-dom\";\nimport AuthService from \"../services/AuthService\";\n\nexport default function LoginBox(){\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    let history = useHistory();\n\n    const onUserUpdate = (evt) =>{\n        setUsername(evt.target.value);\n    }\n\n    const onPasswordUpdate = (evt) =>{\n        setPassword(evt.target.value);\n    }\n\n    const onSubmit = (evt) =>{\n        evt.preventDefault();\n        return AuthService.login(username,password)\n        .then((response)=>{\n            if(response){\n                history.push('home');\n            }\n        })\n    }\n\n    return (\n        <div className=\"auth-wrapper\">\n            <div className=\"auth-inner\">\n                <form>\n                    <h3>Sign In</h3>\n\n                    <div className=\"form-group\">\n                        <label>Username</label>\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Enter username\" value={username} onChange={onUserUpdate}/>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Password</label>\n                        <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" value={password} onChange={onPasswordUpdate}/>\n                    </div>\n\n                    <button onClick={onSubmit} type=\"submit\" className=\"login btn btn-primary btn-block\">Login</button>\n                </form>\n            </div>\n        </div>\n        \n    )\n}","import { Redirect } from \"react-router-dom\";\nimport LoginBox from \"../components/loginBox\";\nimport AuthService from \"../services/AuthService\";\n\nexport default function LoginPage(){\n    const isLoggedIn = AuthService.isSessionActive();\n\n    return (\n        isLoggedIn ?( <Redirect to={'/home'} /> ) :(<LoginBox />)\n    )\n}","export default function ContactCard({name, image}){\n\n    if(!name || name.trim() === \"\"){\n        return \"\";\n    }\n    return (\n         <div className=\"card contact-card\">\n            <div className=\"row\">\n                <div className=\"col-auto\">\n                    <img src={image} className=\"img-thumbnail\" alt=\"\" />\n                </div>\n                <div className=\"col\">\n                    <div className=\"card-block px-2 text-center contact-name-content\">\n                        <h4 className=\"card-title\">{name}</h4>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}","import { useEffect, useState, useRef } from \"react\"\nimport ContactCard from \"./contactCard\"\nimport { getCharacter } from 'rickmortyapi';\nimport { Spinner } from \"react-bootstrap\";\n\nexport default function MainContent(){\n\n    const batch = 10;\n    const counter = useRef(1);\n    const loading = useRef(false);\n    const [contacts, setContacts] = useState([]);\n    const [loadMore, setLoadMore] = useState(true);\n\n    useEffect(() => {\n        async function getCharReponse(){\n            return new Promise((resolve,reject)=>{\n                setTimeout(()=>{\n                    resolve(getCharacter(getNextIdArray()))\n                },3000);\n            })\n        }\n        \n        async function fetchData() {\n            loading.current = true;\n            const characters = await getCharReponse();\n            setContacts(prevState => ([\n                ...prevState,\n                ...characters.map(({name, image, id})=>({name,image,id}))\n            ]))\n            \n            loading.current = false;\n        }\n\n        if(loadMore) fetchData();\n        setLoadMore(false);\n    }, [loadMore]);\n\n    useEffect(() => {\n        window.addEventListener('scroll', handleScroll);\n        return () => window.removeEventListener('scroll', handleScroll);\n    });\n\n    \n\n    function handleScroll(e) {\n        const windowHeight = \"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight;\n        const body = document.body;\n        const html = document.documentElement;\n        const docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n        const windowBottom = windowHeight + window.pageYOffset;\n        if (windowBottom >= docHeight) {\n            setLoadMore(true);\n        }\n    }\n\n    function getNextIdArray(){\n        let starter = counter.current;\n        let idsArray = [];\n        let target = counter.current + batch - 1;\n        while(starter <= target){\n            idsArray.push(starter);\n            starter++;\n        }\n        counter.current = starter;\n        return idsArray;\n    }\n\n    return (\n        <div>\n            {contacts.map((contact,i) =>{\n                return (\n                        <ContactCard key={i} {...contact}/>\n                    )\n                })\n            }\n            {loading.current && (<div className=\"text-center\">\n                    <Spinner className=\"fixed-middle float-right\" animation=\"grow\" size=\"lg\"/>\n                    </div>\n                )\n            }\n        </div>\n    )\n}","import AuthService from \"../services/AuthService\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function MenuBar(){\n    let history = useHistory();\n\n    function logOut(evt){\n        AuthService.logout();\n        return history.push(\"/\");\n    }\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-10\">\n                        <h1> Contacts App </h1>\n                    </div>\n                    <div className=\"col-2\">\n                        <button onClick={logOut} className=\"btn btn-primary\" > Logout </button>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}","import MainContent from \"../components/mainContent\";\nimport MenuBar from \"../components/menuBar\";\n\nexport default function HomePage(){\n    return (\n        <>\n            <MenuBar />\n            <MainContent />\n        </>\n    )\n}","import { Redirect, Route } from \"react-router-dom\";\nimport AuthService from \"../services/AuthService\";\n\n\nexport default function PrivateRoute({ component: Component, ...rest }){\n    const isLoggedIn = AuthService.isSessionActive();\n    return(\n        <Route \n            {...rest}\n                render={props =>\n                isLoggedIn ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect to={{ pathname : '/'}} />\n                )\n            }\n        />\n    )\n}","import './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport LoginPage from './pages/LoginPage';\nimport HomePage from './pages/HomePage';\nimport PrivateRoute  from './components/privateRoute';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n          <Switch>\n            <PrivateRoute path=\"/home\" component={HomePage} />\n            <Route path=\"/\">\n              <LoginPage />\n            </Route>\n          </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}